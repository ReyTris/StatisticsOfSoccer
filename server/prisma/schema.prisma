generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model UserModel {
  id             Int         @id @default(autoincrement())
  name           String
  email          String      @unique
  password       String
  isActivated    Boolean     @default(false) @map("is_activated")
  activationLink String?     @map("activation_link")
  created_at     DateTime    @default(now())
  updated_at     DateTime    @updatedAt
  tasks          TaskModel[]
  token          TokenModel?

  @@map("user")
}

model TokenModel {
  id           Int       @id @default(autoincrement())
  refreshToken String    @unique @map("refresh_token")
  user         UserModel @relation(fields: [id], references: [id])

  @@map("token")
}

model TaskModel {
  id          Int       @id @default(autoincrement())
  created_at  DateTime  @default(now())
  updated_at  DateTime  @updatedAt
  name        String
  priority    Priority?
  isCompleted Boolean?  @default(false) @map("is_completed")
  userId      Int       @map("user_id")
  user        UserModel @relation(fields: [userId], references: [id])

  @@map("task")
}

enum Priority {
  low
  medium
  high
}
